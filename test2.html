<!DOCTYPE html>
<html>
  <head>
    <title>Waypoints in Directions</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA5a1FoKmbmQ1djPh6pRx7oiknBf3ACNOE&callback=directionsMap&libraries=&v=weekly"
      defer
    ></script>
    <style type="text/css">
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #directionMap {
        height: 100%;
        float: left;
        width: 100%;
        height: 100%;
      }

    </style>
    <script>
      function directionsMap() {
  const newmap = new google.maps.Map(document.getElementById("directionMap"), {
    zoom: 11,
    center: { lat: 64.097355, lng: -21.012060 },
  });
  const directionsService = new google.maps.DirectionsService(newmap);
  const directionsRenderer = new google.maps.DirectionsRenderer({
    map: newmap,
  });
  displayRoute(
    "Reykjavik Terminal, Skógarhlíð 10, Reykjavík, Iceland",
    "Reykjavik Terminal, Skógarhlíð 10, Reykjavík, Iceland",
    directionsService,
    directionsRenderer
  );
}

function displayRoute(origin, destination, service, display) {
  service.route(
    {
      origin: origin,
      destination: destination,
      waypoints: [
        { location: "Thingvellir National Park, Thingvellir, 801 Selfoss, Iceland" },
        { location: "Strokkur, Haukadalsvegur, Iceland" },
        { location: "Gullfoss Falls, Iceland" },
        { location: "Flúðir, Iceland" },
        { location: "Hveragerði, Iceland" },
      ],
      travelMode: google.maps.TravelMode.DRIVING,
      avoidTolls: true,
    },
    (result, status) => {
      if (status === "OK") {
        display.setDirections(result);
      } else {
        alert("Could not display directions due to: " + status);
      }
    }
  );
}
    </script>
  </head>
  <body>
    <div id="directionMap"></div>
  </body>
</html>